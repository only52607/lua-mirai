import{_ as t,r as e,o,a as c,b as n,d as p,F as i,e as a,c as l}from"./app.6d305f2e.js";const d={},u=n("h1",{id:"jdbc\u652F\u6301\u5E93",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#jdbc\u652F\u6301\u5E93","aria-hidden":"true"},"#"),a(" jdbc\u652F\u6301\u5E93")],-1),r={id:"jdbc\u662Fjava\u4E2D\u7528\u6237\u64CD\u4F5C\u6570\u636E\u5E93\u7684\u7EDF\u4E00\u63A5\u53E3-\u652F\u6301\u591A\u79CD\u6570\u636E\u5E93\u3002\u6587\u6863\u57FA\u4E8E-sqlite-jdbc-\u8BE6\u7EC6-api-\u6587\u6863\u8BF7\u81EA\u884C\u67E5\u8BE2-\u7528\u6CD5\u4E0E-java-\u7C7B\u4F3C\u3002",tabindex:"-1"},k=n("a",{class:"header-anchor",href:"#jdbc\u662Fjava\u4E2D\u7528\u6237\u64CD\u4F5C\u6570\u636E\u5E93\u7684\u7EDF\u4E00\u63A5\u53E3-\u652F\u6301\u591A\u79CD\u6570\u636E\u5E93\u3002\u6587\u6863\u57FA\u4E8E-sqlite-jdbc-\u8BE6\u7EC6-api-\u6587\u6863\u8BF7\u81EA\u884C\u67E5\u8BE2-\u7528\u6CD5\u4E0E-java-\u7C7B\u4F3C\u3002","aria-hidden":"true"},"#",-1),h=a(" JDBC\u662FJava\u4E2D\u7528\u6237\u64CD\u4F5C\u6570\u636E\u5E93\u7684\u7EDF\u4E00\u63A5\u53E3\uFF0C\u652F\u6301\u591A\u79CD\u6570\u636E\u5E93\u3002\u6587\u6863\u57FA\u4E8E "),m={href:"https://github.com/xerial/sqlite-jdbc",target:"_blank",rel:"noopener noreferrer"},v=a("sqlite-jdbc"),b=a(" \uFF0C\u8BE6\u7EC6 api \u6587\u6863\u8BF7\u81EA\u884C\u67E5\u8BE2\uFF0C\u7528\u6CD5\u4E0E java \u7C7B\u4F3C\u3002"),g=l(`<h3 id="\u521B\u5EFAconnection" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFAconnection" aria-hidden="true">#</a> \u521B\u5EFAConnection</h3><p>\u4EE5\u521B\u5EFASqlite\u8FDE\u63A5\u4E3A\u4F8B\uFF1A</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token function">Connection</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:sqlite:/path/to/db&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u8BED\u53E5\u6267\u884C\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u8BED\u53E5\u6267\u884C\u73AF\u5883" aria-hidden="true">#</a> \u521B\u5EFA\u8BED\u53E5\u6267\u884C\u73AF\u5883</h3><h5 id="\u51FD\u6570\u540D-createstatement" tabindex="-1"><a class="header-anchor" href="#\u51FD\u6570\u540D-createstatement" aria-hidden="true">#</a> \u51FD\u6570\u540D\uFF1A createStatement</h5><h5 id="\u53C2\u6570\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570\u5217\u8868" aria-hidden="true">#</a> \u53C2\u6570\u5217\u8868\uFF1A</h5><table><thead><tr><th>\u53C2\u6570</th><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th><th>\u53EF\u7A7A</th></tr></thead><tbody><tr><td>conn</td><td>Connection</td><td>\u6253\u5F00\u7684\u6570\u636E\u5E93</td><td>False</td></tr><tr><td>path</td><td>String</td><td>sqlite \u6570\u636E\u5E93\u6587\u4EF6\u8DEF\u5F84</td><td>False</td></tr></tbody></table><h5 id="\u8FD4\u56DE\u503C" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C" aria-hidden="true">#</a> \u8FD4\u56DE\u503C\uFF1A</h5><table><thead><tr><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>Statement</td><td>Statement \u5BF9\u8C61</td></tr></tbody></table><h3 id="\u521B\u5EFA\u8BED\u53E5\u6267\u884C\u73AF\u5883-1" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u8BED\u53E5\u6267\u884C\u73AF\u5883-1" aria-hidden="true">#</a> \u521B\u5EFA\u8BED\u53E5\u6267\u884C\u73AF\u5883</h3><h5 id="\u51FD\u6570\u540D-createstatement-1" tabindex="-1"><a class="header-anchor" href="#\u51FD\u6570\u540D-createstatement-1" aria-hidden="true">#</a> \u51FD\u6570\u540D\uFF1A createStatement</h5><h5 id="\u53C2\u6570\u5217\u8868-1" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570\u5217\u8868-1" aria-hidden="true">#</a> \u53C2\u6570\u5217\u8868\uFF1A</h5><table><thead><tr><th>\u53C2\u6570</th><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th><th>\u53EF\u7A7A</th></tr></thead><tbody><tr><td>conn</td><td>Connection</td><td>\u6253\u5F00\u7684\u6570\u636E\u5E93</td><td>False</td></tr><tr><td>path</td><td>String</td><td>sqlite \u6570\u636E\u5E93\u6587\u4EF6\u8DEF\u5F84</td><td>False</td></tr></tbody></table><h5 id="\u8FD4\u56DE\u503C-1" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-1" aria-hidden="true">#</a> \u8FD4\u56DE\u503C\uFF1A</h5><table><thead><tr><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>Statement</td><td>Statement \u5BF9\u8C61</td></tr></tbody></table><h3 id="\u8BBE\u7F6E\u8BED\u53E5\u6267\u884C\u8D85\u65F6\u65F6\u95F4" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u8BED\u53E5\u6267\u884C\u8D85\u65F6\u65F6\u95F4" aria-hidden="true">#</a> \u8BBE\u7F6E\u8BED\u53E5\u6267\u884C\u8D85\u65F6\u65F6\u95F4</h3><h5 id="\u51FD\u6570\u540D-setquerytimeout" tabindex="-1"><a class="header-anchor" href="#\u51FD\u6570\u540D-setquerytimeout" aria-hidden="true">#</a> \u51FD\u6570\u540D\uFF1A setQueryTimeout()</h5><table><thead><tr><th>\u53C2\u6570</th><th>\u7C7B\u578B</th><th>\u63CF\u8FF0</th><th>\u53EF\u7A7A</th></tr></thead><tbody><tr><td>stat</td><td>Statement</td><td>\u8BED\u53E5\u7684\u6267\u884C\u73AF\u5883</td><td>False</td></tr><tr><td>seconds</td><td>Float</td><td>\u8BBE\u7F6E\u8D85\u65F6\u7684\u65F6\u95F4</td><td>False</td></tr></tbody></table><h5 id="\u8FD4\u56DE\u503C-\u7A7A" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-\u7A7A" aria-hidden="true">#</a> \u8FD4\u56DE\u503C\uFF1A\uFF08\u7A7A\uFF09</h5><h3 id="\u66F4\u65B0\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u66F4\u65B0\u8BED\u53E5" aria-hidden="true">#</a> \u66F4\u65B0\u8BED\u53E5</h3><p>executeUpdate ()</p><h3 id="\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> \u67E5\u8BE2\u8BED\u53E5</h3><p>executeQuery ()</p><h2 id="\u5982\u4F55\u5B9A\u4F4D\u4E00\u4E2A\u6570\u636E\u5E93\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u5B9A\u4F4D\u4E00\u4E2A\u6570\u636E\u5E93\u6587\u4EF6" aria-hidden="true">#</a> \u5982\u4F55\u5B9A\u4F4D\u4E00\u4E2A\u6570\u636E\u5E93\u6587\u4EF6</h2><p>\u4E0B\u9762\u662F\u4E00\u4E2A\u4F8B\u5B50\uFF0C\u5173\u4E8E\u5982\u4F55\u5EFA\u7ACB\u5BF9 Windows \u4E0B\u6570\u636E\u5E93 <code>C:\\work\\mydatabase.db</code> \u7684\u8FDE\u63A5</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> connection <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;C:/work/mydatabase.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6253\u5F00\u4E00\u4E2A UNIX (Linux, Mac OS X, etc.) \u7B49\u7684\u6587\u4EF6 <code>/home/leo/work/mydatabase.db</code></p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> connection <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;/home/leo/work/mydatabase.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5982\u4F55\u4F7F\u7528\u5185\u5B58\u4E0A\u7684\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u4F7F\u7528\u5185\u5B58\u4E0A\u7684\u6570\u636E\u5E93" aria-hidden="true">#</a> \u5982\u4F55\u4F7F\u7528\u5185\u5B58\u4E0A\u7684\u6570\u636E\u5E93</h2><p>SQLite \u652F\u6301\u5185\u5B58\u6570\u636E\u5E93\u7BA1\u7406, \u4E0D\u4F1A\u521B\u5EFA\u4EFB\u4F55\u6570\u636E\u5E93\u6587\u4EF6. \u5982\u4F55\u7528 Java \u8FDE\u63A5\u6570\u636E\u5E93\u53EF\u4EE5\u53C2\u8003\u4E0B\u9762\u7684\u4F8B\u5B50</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> connection <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;:memory:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5F53\u7136\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u50CF\u4E0B\u9762\u90A3\u6837\u521B\u5EFA\u4E00\u4E2A\u6570\u636E\u5E93</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> connection <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u5982\u4F55\u4F7F\u7528\u5728\u7EBF\u5907\u4EFD\u548C\u6062\u590D\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u4F7F\u7528\u5728\u7EBF\u5907\u4EFD\u548C\u6062\u590D\u529F\u80FD" aria-hidden="true">#</a> \u5982\u4F55\u4F7F\u7528\u5728\u7EBF\u5907\u4EFD\u548C\u6062\u590D\u529F\u80FD</h2><p>\u521B\u5EFA <code>backup.db</code> \u5907\u4EFD\u6574\u4E2A\u6570\u636E\u5E93\u7684\u65B9\u6CD5</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>
<span class="token comment">-- \u521B\u5EFA\u4E00\u4E2A\u5185\u5B58\u6570\u636E\u5E93</span>
<span class="token keyword">local</span> conn <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">local</span> stmt <span class="token operator">=</span> conn<span class="token punctuation">:</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u505A\u4E00\u4E9B\u66F4\u65B0</span>
stmt<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;create table sample(id, name)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stmt<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;insert into sample values(1, \\&quot;leo\\&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stmt<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;insert into sample values(2, \\&quot;yui\\&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u628A\u6570\u636E\u5E93\u5185\u5BB9 dump \u5165\u6587\u4EF6</span>
stmt<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;backup to backup.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u521B\u5EFA\u4E00\u4E2A\u5185\u5B58\u6570\u636E\u5E93</span>
<span class="token keyword">local</span> conn <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u4ECE\u5907\u4EFD\u6587\u4EF6\u4E2D\u6062\u590D\u6570\u636E\u5E93</span>
<span class="token keyword">local</span> stat <span class="token operator">=</span> conn<span class="token punctuation">:</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stat<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;restore from backup.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u521B\u5EFA\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6570\u636E" aria-hidden="true">#</a> \u521B\u5EFA\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6570\u636E</h2><ol><li>\u521B\u5EFA\u4E00\u4E2A\u8868\uFF0C\u5E26\u6709 blob \u7C7B\u578B\u7684\u4E00\u5217 <code>create table T (id integer, data blob)</code>\u3001</li><li>\u7528 <code>?</code> \u521B\u5EFA\u4E00\u4E2A\u521D\u59CB\u5316\u72B6\u6001 <code>insert into T values(1, ?)</code>\u3001</li><li>\u7528\u5B57\u8282\u6570\u7EC4\u51C6\u5907\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6570\u636E (e.g., <code>byte[] data = ...</code>)</li><li><code>preparedStatement.setBytes(1, data)</code></li><li><code>preparedStatement.execute()...</code></li></ol><h2 id="\u901A\u8FC7\u7F51\u7EDC\u4EE5\u53EA\u8BFB\u6253\u5F00\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7\u7F51\u7EDC\u4EE5\u53EA\u8BFB\u6253\u5F00\u6570\u636E\u5E93" aria-hidden="true">#</a> \u901A\u8FC7\u7F51\u7EDC\u4EE5\u53EA\u8BFB\u6253\u5F00\u6570\u636E\u5E93</h2><p>\u5916\u90E8\u6570\u636E\u5E93\u8D44\u6E90\u53EF\u4EE5\u50CF\u4E0B\u9762\u8FD9\u6837\u88AB\u4F7F\u7528</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> conn <span class="token operator">=</span> <span class="token function">SqliteConnection</span> <span class="token punctuation">(</span><span class="token string">&quot;:resource:http://www.xerial.org/svn/project/XerialJ/trunk/sqlite-jdbc/src/test/java/org/sqlite/sample.db&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u914D\u7F6E\u4E00\u4E2A\u8FDE\u63A5" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u4E00\u4E2A\u8FDE\u63A5" aria-hidden="true">#</a> \u914D\u7F6E\u4E00\u4E2A\u8FDE\u63A5</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SQLiteConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// config.setReadOnly(true);   </span>
config<span class="token punctuation">.</span><span class="token function">setSharedCache</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
config<span class="token punctuation">.</span><span class="token function">recursiveTriggers</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... other configuration can be set via SQLiteConfig object</span>
<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:sqlite:sample.db&quot;</span><span class="token punctuation">,</span> config<span class="token punctuation">.</span><span class="token function">toProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5982\u4F55\u4F7F\u7528\u52A0\u5BC6\u7684\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u4F7F\u7528\u52A0\u5BC6\u7684\u6570\u636E\u5E93" aria-hidden="true">#</a> \u5982\u4F55\u4F7F\u7528\u52A0\u5BC6\u7684\u6570\u636E\u5E93</h2><p><em><strong>Important: xerial/sqlite-jdbc does not support encryption out of the box, you need a special .dll/.so</strong></em></p><p>SQLite \u652F\u6301\u901A\u8FC7\u7279\u6B8A\u7684 driver \u548C\u5BC6\u94A5\u52A0\u5BC6\u6570\u636E\u5E93\u3002\u4F7F\u7528\u4E00\u4E2A\u88AB\u52A0\u5BC6\u7684\u6570\u636E\u5E93\uFF0C\u4F60\u9700\u8981\u4E00\u4E2A\u652F\u6301\u901A\u8FC7 <code>pragma key</code> or <code>pragma hexkey</code> \u52A0\u5BC6\u7684 driver\uFF0C\u4F8B\u5982\uFF0CSQLite SSE \u6216\u8005 SQLCipher\uFF0C SQLite support encryption of the database via special drivers and a key. To use an encrypted database you need a driver which supports encrypted database via <code>pragma key</code> or <code>pragma hexkey</code>, e.g. SQLite SSE or SQLCipher. You need to specify those drivers via directly referencing the .dll/.so through:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-Dorg.sqlite.lib.path=.
-Dorg.sqlite.lib.name=sqlite_cryption_support.dll
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Now the only need to specify the password is via:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:sqlite:db.sqlite&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u4E8C\u8FDB\u5236\u901A\u884C\u53E3\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u8FDB\u5236\u901A\u884C\u53E3\u4EE4" aria-hidden="true">#</a> \u4E8C\u8FDB\u5236\u901A\u884C\u53E3\u4EE4</h3><p>If you need to provide the password in binary form, you have to specify how the provided .dll/.so needs it. There are two different modes available:</p><h4 id="sse" tabindex="-1"><a class="header-anchor" href="#sse" aria-hidden="true">#</a> SSE:</h4><p>The binary password is provided via <code>pragma hexkey=&#39;AE...&#39;</code></p><h4 id="sqlcipher" tabindex="-1"><a class="header-anchor" href="#sqlcipher" aria-hidden="true">#</a> SQLCipher:</h4><p>The binary password is provided via <code>pragma key=&quot;x&#39;AE...&#39;&quot;</code></p><p>You set the mode at the connectionstring level:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:sqlite:db.sqlite?hexkey_mode=sse&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;AE...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u793A\u4F8B" aria-hidden="true">#</a> \u793A\u4F8B\uFF1A</h4><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">local</span> connection <span class="token operator">=</span> <span class="token function">SqliteConnection</span><span class="token punctuation">(</span><span class="token string">&quot;person.db&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- \u521B\u5EFAconnection</span>
<span class="token keyword">local</span> statement <span class="token operator">=</span> connection<span class="token punctuation">:</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- \u521B\u5EFA\u4E00\u4E2Astatement\uFF0C\u4EE5\u6267\u884Csql\u8BED\u53E5</span>
statement<span class="token punctuation">:</span><span class="token function">setQueryTimeout</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">-- \u8BBE\u7F6E\u67E5\u8BE2\u8D85\u65F6\u65F6\u95F4</span>
statement<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;drop table if exists person&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- \u6267\u884Csql\u8BED\u53E5</span>
statement<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;create table person (id integer, name string)&quot;</span><span class="token punctuation">)</span>
statement<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;insert into person values(1, &#39;leo&#39;)&quot;</span><span class="token punctuation">)</span>
statement<span class="token punctuation">:</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token string">&quot;insert into person values(2, &#39;yui&#39;)&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">local</span> rs <span class="token operator">=</span> statement<span class="token punctuation">:</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;select * from person&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- \u6267\u884Csql\u8BED\u53E5\u5E76\u8FD4\u56DE\u7ED3\u679C</span>
<span class="token keyword">while</span> rs<span class="token punctuation">:</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token comment">--\u904D\u5386\u8FD4\u56DE\u7ED3\u679C</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;name = &quot;</span> <span class="token operator">..</span> rs<span class="token punctuation">:</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;id = &quot;</span> <span class="token operator">..</span> <span class="token function">tostring</span><span class="token punctuation">(</span>rs<span class="token punctuation">:</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,59);function q(f,x){const s=e("ExternalLinkIcon");return o(),c(i,null,[u,n("h4",r,[k,h,n("a",m,[v,p(s)]),b]),g],64)}var S=t(d,[["render",q],["__file","jdbc.html.vue"]]);export{S as default};
