import{_ as c,r as p,o as i,a as l,b as n,d as e,w as t,F as u,e as s,c as o}from"./app.6d305f2e.js";const d={},r=n("h1",{id:"\u4E8B\u4EF6-event",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4E8B\u4EF6-event","aria-hidden":"true"},"#"),s(" \u4E8B\u4EF6\uFF08Event\uFF09")],-1),k=n("h2",{id:"\u4ECB\u7ECD",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4ECB\u7ECD","aria-hidden":"true"},"#"),s(" \u4ECB\u7ECD")],-1),v=n("p",null,[s("lua-mirai \u57FA\u4E8E\u4E8B\u4EF6\u9A71\u52A8\u673A\u5236\u6784\u5EFA\uFF0Clua-mirai \u4E2D\u7684\u4E8B\u4EF6\u5305\u62EC\u4F46\u4E0D\u9650\u4E8E\u597D\u53CB\u3001\u7FA4\u6D88\u606F\u4E8B\u4EF6\u7B49\uFF0C\u5F53\u4E8B\u4EF6\u53D1\u751F\u65F6\uFF0C"),n("code",null,"LM"),s("\u5C06\u4F1A\u901A\u8FC7\u56DE\u8C03\u51FD\u6570\u901A\u77E5\u76D1\u542C\u8005\u3002")],-1),h=s("\u4E8B\u4EF6(Event)\u53C2\u8003"),b=s("\u4E2D\u5305\u542B\u4E86"),m=n("code",null,"LM",-1),_=s("\u6240\u6709\u53EF\u7528\u7684\u6D88\u606F\u7C7B\u578B"),f=o(`<h2 id="event\u8868" tabindex="-1"><a class="header-anchor" href="#event\u8868" aria-hidden="true">#</a> Event\u8868</h2><p><code>Event</code>\u662F\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\uFF0C\u5B83\u5305\u542B\u4E86\u6240\u6709\u6709\u5173\u4E8E\u4E8B\u4EF6\u7684\u64CD\u4F5C\uFF0C\u5305\u62EC<code>subscribe</code>\u65B9\u6CD5\u7B49\u3002</p><h2 id="\u4E8B\u4EF6\u76D1\u542C" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u4EF6\u76D1\u542C" aria-hidden="true">#</a> \u4E8B\u4EF6\u76D1\u542C</h2><h3 id="\u542F\u52A8\u76D1\u542C" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u76D1\u542C" aria-hidden="true">#</a> \u542F\u52A8\u76D1\u542C</h3><p><code>Event.subscribe</code>\u65B9\u6CD5\u662F\u542F\u52A8\u4E8B\u4EF6\u76D1\u542C\u7684\u5165\u53E3\u65B9\u6CD5\uFF0C\u5B83\u7684\u57FA\u672C\u5F62\u5F0F\u5982\u4E0B</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>Event<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>\u8FC7\u6EE4\u6761\u4EF6<span class="token operator">&gt;</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>\u76D1\u542C\u5668<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u8FC7\u6EE4\u6761\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u8FC7\u6EE4\u6761\u4EF6" aria-hidden="true">#</a> \u8FC7\u6EE4\u6761\u4EF6</h4><p>\u8FC7\u6EE4\u6761\u4EF6\u662F\u4E00\u4E2A\u53EF\u9009\u53C2\u6570\uFF0C\u5B83\u53EF\u4EE5\u4F20\u5165\u591A\u4E2A\uFF0C\u5B83\u7684\u53D6\u503C\u6709\u4E0B\u9762\u51E0\u79CD\u60C5\u51B5\uFF0C</p><ol><li><code>Bot</code>\u6216<code>Contact</code>\u5BF9\u8C61\uFF1A \u5F53\u8FC7\u6EE4\u6761\u4EF6\u662F\u4E00\u4E2Abot\u7684\u65F6\u5019\uFF0C\u76D1\u542C\u5668\u53EA\u4F1A\u6536\u5230\u8BE5bot\u6216contact\u4E0B\u7684\u4E8B\u4EF6\u3002</li><li>string\u5B57\u7B26\u4E32\uFF1A \u5F53\u8FC7\u6EE4\u6761\u4EF6\u662F\u4E00\u4E2Astring\u7684\u65F6\u5019\uFF0C\u8BE5string\u6807\u8BC6\u4E86\u4E00\u4E2A\u4E8B\u4EF6\uFF0C\u5982<code>FriendMessageEvent</code>\uFF0C\u8FD9\u610F\u5473\u7740\u76D1\u542C\u5668\u53EA\u4F1A\u6536\u5230\u8BE5\u7C7B\u578B\u7684\u4E8B\u4EF6\u3002</li><li>\u81EA\u5B9A\u4E49function\uFF1A \u5F53\u8FC7\u6EE4\u6761\u4EF6\u662F\u4E00\u4E2Afunction\u7684\u65F6\u5019\uFF0C\u8BE5function\u4F1A\u63A5\u6536\u4E00\u4E2A<code>event</code>\u5BF9\u8C61\uFF0C\u5F53\u51FD\u6570\u8FD4\u56DE\u4E00\u4E2A\u975E<code>nil</code>\u503C\u65F6\uFF0C\u5219\u4EE3\u8868\u8BE5\u4E8B\u4EF6\u662F\u53EF\u63A5\u6536\u7684\u3002</li></ol><h4 id="\u76D1\u542C\u5668" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u5668" aria-hidden="true">#</a> \u76D1\u542C\u5668</h4><p>\u76D1\u542C\u5668\u662F\u4E00\u4E2Alua\u51FD\u6570\uFF0C\u5F53\u4E8B\u4EF6\u53D1\u751F\u65F6\uFF0C\u8BE5\u51FD\u6570\u4F1A\u63A5\u6536\u5230\u4E00\u4E2A<code>event</code>\u7C7B\u578B\u7684\u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u5305\u542B\u4E86\u673A\u5668\u4EBA\u5BF9\u8C61\uFF0C\u53D1\u9001\u8005\uFF0C\u6D88\u606F\u7B49\u4FE1\u606F\u3002</p>`,11),g=s("\u5728\u4E0D\u540C\u7684\u4E8B\u4EF6\u7C7B\u578B\u4E2D\uFF0Cevent\u5BF9\u8C61\u4E2D\u5305\u542B\u7684\u6210\u5458\u4E0D\u540C\uFF0C\u5982\u9700\u67E5\u770B\u5F53\u524Devent\u5BF9\u8C61\u7684\u6240\u6709\u6210\u5458\uFF0C\u53EF\u901A\u8FC7\u8BFB\u53D6\u5143\u5C5E\u6027\u5B9E\u73B0\uFF0C\u5177\u4F53\u8BF7\u53C2\u9605\uFF1A"),x=s("lua\u8BED\u8A00\u6269\u5C55"),q=o(`<h4 id="\u76D1\u542C\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u793A\u4F8B" aria-hidden="true">#</a> \u76D1\u542C\u793A\u4F8B</h4><h5 id="\u76D1\u542C\u5168\u90E8\u4E8B\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u5168\u90E8\u4E8B\u4EF6" aria-hidden="true">#</a> \u76D1\u542C\u5168\u90E8\u4E8B\u4EF6</h5><p>\u5F53\u8FC7\u6EE4\u6761\u4EF6\u4E2A\u6570\u4E3A\u96F6\u65F6\uFF0C\u8BE5\u76D1\u542C\u5668\u4F1A\u63A5\u6536\u5230\u6240\u6709bot\u4EA7\u751F\u7684\u6240\u6709\u4E8B\u4EF6\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>Event<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\u63A5\u6536\u5230\u4E8B\u4EF6\uFF1A&quot;</span> <span class="token operator">..</span> <span class="token function">tostring</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u76D1\u542C\u7279\u5B9A\u4E8B\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u76D1\u542C\u7279\u5B9A\u4E8B\u4EF6" aria-hidden="true">#</a> \u76D1\u542C\u7279\u5B9A\u4E8B\u4EF6</h5><p>\u4E0B\u9762\u7684\u793A\u4F8B\u4E2D\uFF0C\u4E8B\u4EF6\u76D1\u542C\u5668\u4F1A\u6536\u5230\u6765\u81EA\u8FD9\u4E2Abot\u6240\u6709\u4E8B\u4EF6\u3002</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>Event<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>bot<span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\u63A5\u6536\u5230\u4E8B\u4EF6\uFF1A&quot;</span> <span class="token operator">..</span> <span class="token function">tostring</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u540C\u7406\uFF0C\u5728\u4E0B\u9762\u7684\u793A\u4F8B\u4E2D\uFF0C\u4E8B\u4EF6\u76D1\u542C\u5668\u53EA\u4F1A\u6536\u5230\u6765\u81EA\u8FD9\u4E2Abot\u7684\u597D\u53CB\u6D88\u606F\u4E8B\u4EF6\u3002</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>Event<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>bot<span class="token punctuation">,</span><span class="token string">&quot;FriendMessageEvent&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\u63A5\u6536\u5230\u4E8B\u4EF6\uFF1A&quot;</span> <span class="token operator">..</span> <span class="token function">tostring</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4E3A\u4E86\u4F7F\u7528\u4E0A\u7684\u65B9\u4FBF\uFF0C<code>Event</code>\u5BF9\u8C61\u88AB\u6DFB\u52A0\u5230<code>Bot</code>\u4EE5\u53CA<code>Contact</code>\u5BF9\u8C61\u7684<code>metatable</code>\u4E2D\uFF0C\u56E0\u6B64\uFF0C\u4E0A\u8FF0\u4EE3\u7801\u7B49\u4EF7\u4E8E\uFF1A</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>bot<span class="token punctuation">:</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;FriendMessageEvent&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\u63A5\u6536\u5230\u4E8B\u4EF6\uFF1A&quot;</span> <span class="token operator">..</span> <span class="token function">tostring</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="\u5224\u65AD\u4E8B\u4EF6\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD\u4E8B\u4EF6\u7C7B\u578B" aria-hidden="true">#</a> \u5224\u65AD\u4E8B\u4EF6\u7C7B\u578B</h3><p>\u5BF9event\u5BF9\u8C61\u4F7F\u7528type\u65B9\u6CD5\u53EF\u8FD4\u56DE\u4E00\u4E2A\u6D88\u606F\u7684\u5177\u4F53\u7C7B\u578B\uFF0C\u4F8B\u5982\uFF1A</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code>bot<span class="token punctuation">:</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;FriendMessageEvent&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),E=s("\u4E8B\u4EF6(Event)\u53C2\u8003"),w=s("\u4E2D\u5305\u542B\u4E86"),y=n("code",null,"LM",-1),M=s("\u6240\u6709\u53EF\u7528\u7684\u6D88\u606F\u7C7B\u578B"),F=n("h3",{id:"\u8C03\u7528\u4E8B\u4EF6\u65B9\u6CD5",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8C03\u7528\u4E8B\u4EF6\u65B9\u6CD5","aria-hidden":"true"},"#"),s(" \u8C03\u7528\u4E8B\u4EF6\u65B9\u6CD5")],-1),B=n("p",null,[s("\u4E8B\u4EF6\u5BF9\u8C61\u662F\u4E00\u4E2A"),n("code",null,"userdata"),s("\u7C7B\u578B\u7684\u5BF9\u8C61\uFF0C\u5185\u7F6E\u4E86\u90E8\u5206\u6210\u5458\u65B9\u6CD5\u3002")],-1),C=s("\u53C2\u9605\uFF1A"),L=s("lua\u8BED\u8A00\u6269\u5C55"),N=o(`<h3 id="\u53D6\u6D88\u76D1\u542C" tabindex="-1"><a class="header-anchor" href="#\u53D6\u6D88\u76D1\u542C" aria-hidden="true">#</a> \u53D6\u6D88\u76D1\u542C</h3><p>\u8C03\u7528<code>subscribe</code> \u65B9\u6CD5\u540E\u4F1A\u5F97\u5230\u4E00\u4E2A <code>CompeletableJob</code> \u5BF9\u8C61\uFF0C\u8C03\u7528\u6B64\u5BF9\u8C61\u7684 <code>cancel</code> \u65B9\u6CD5\u5373\u53EF\u53D6\u6D88\u6B64\u76D1\u542C\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-lua ext-lua line-numbers-mode"><pre class="language-lua"><code><span class="token keyword">function</span> <span class="token function">listener</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
<span class="token keyword">end</span>
<span class="token keyword">local</span> job <span class="token operator">=</span> bot<span class="token punctuation">:</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;FriendMessageEvent&quot;</span><span class="token punctuation">,</span>listener<span class="token punctuation">)</span>
job<span class="token punctuation">:</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3);function V(j,R){const a=p("RouterLink");return i(),l(u,null,[r,k,v,n("blockquote",null,[n("p",null,[e(a,{to:"/reference/event.html"},{default:t(()=>[h]),_:1}),b,m,_])]),f,n("blockquote",null,[n("p",null,[g,e(a,{to:"/reference/libs/luaex.html"},{default:t(()=>[x]),_:1})])]),q,n("blockquote",null,[n("p",null,[e(a,{to:"/reference/event.html"},{default:t(()=>[E]),_:1}),w,y,M])]),F,B,n("blockquote",null,[n("p",null,[C,e(a,{to:"/reference/libs/luaex.html"},{default:t(()=>[L]),_:1})])]),N],64)}var S=c(d,[["render",V],["__file","event.html.vue"]]);export{S as default};
